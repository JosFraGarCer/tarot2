// script/translate-missing.mjs
// Traduce autom√°ticamente todas las claves marcadas como TODO
import fs from 'node:fs'
import path from 'node:path'
import { fileURLToPath } from 'node:url'

const __filename = fileURLToPath(import.meta.url)
const __dirname = path.dirname(__filename)

const ROOT = path.resolve(__dirname, '..')
const LOCALES = path.join(ROOT, 'i18n/locales')

// Traducciones comunes y patrones
const translations = {
  // Common UI elements
  'common.view': { en: 'View', es: 'Ver' },
  'common.username': { en: 'Username', es: 'Nombre de usuario' },
  'common.password': { en: 'Password', es: 'Contrase√±a' },
  'common.partial': { en: 'Partial', es: 'Parcial' },
  'common.sort': { en: 'Sort', es: 'Ordenar' },
  'common.short_text': { en: 'Short text', es: 'Texto corto' },
  
  // UI actions
  'ui.actions.new': { en: 'New', es: 'Nuevo' },
  'ui.actions.reset': { en: 'Reset', es: 'Restablecer' },
  'ui.actions.download': { en: 'Download', es: 'Descargar' },
  'ui.actions.view': { en: 'View', es: 'Ver' },
  'ui.actions.close': { en: 'Close', es: 'Cerrar' },
  'ui.actions.revert': { en: 'Revert', es: 'Revertir' },
  'ui.actions.copy': { en: 'Copy', es: 'Copiar' },
  'ui.actions.back': { en: 'Back', es: 'Volver' },
  'ui.actions.apply': { en: 'Apply', es: 'Aplicar' },
  'ui.actions.reload': { en: 'Reload', es: 'Recargar' },
  'ui.actions.editJson': { en: 'Edit JSON', es: 'Editar JSON' },
  'ui.actions.quickEdit': { en: 'Quick Edit', es: 'Edici√≥n r√°pida' },
  'ui.actions.fullEdit': { en: 'Full Edit', es: 'Edici√≥n completa' },
  
  // Common fields
  'fields.code': { en: 'Code', es: 'C√≥digo' },
  'fields.name': { en: 'Name', es: 'Nombre' },
  'fields.category': { en: 'Category', es: 'Categor√≠a' },
  'fields.short_text': { en: 'Short Text', es: 'Texto corto' },
  'fields.description': { en: 'Description', es: 'Descripci√≥n' },
  'fields.parent_id': { en: 'Parent', es: 'Padre' },
  'fields.is_active': { en: 'Active', es: 'Activo' },
  'fields.sort': { en: 'Sort Order', es: 'Orden' },
  'fields.facet_id': { en: 'Facet', es: 'Faceta' },
  'fields.language_code': { en: 'Language', es: 'Idioma' },
  'fields.image': { en: 'Image', es: 'Imagen' },
  'fields.status': { en: 'Status', es: 'Estado' },
  'fields.created_by': { en: 'Created By', es: 'Creado por' },
  'fields.content_version_id': { en: 'Content Version', es: 'Versi√≥n de contenido' },
  'fields.arcana_id': { en: 'Arcana', es: 'Arcana' },
  'fields.card_type_id': { en: 'Card Type', es: 'Tipo de carta' },
  'fields.effects': { en: 'Effects', es: 'Efectos' },
  'fields.legacy_effects': { en: 'Legacy Effects', es: 'Efectos Legacy' },

  // Tag fields
  'fields.tag.name': { en: 'Tag Name', es: 'Nombre de etiqueta' },
  'fields.tag.code': { en: 'Tag Code', es: 'C√≥digo de etiqueta' },
  'fields.tag.category': { en: 'Tag Category', es: 'Categor√≠a de etiqueta' },
  'fields.tag.short_text': { en: 'Short Text', es: 'Texto corto' },
  'fields.tag.description': { en: 'Description', es: 'Descripci√≥n' },
  'fields.tag.parent_id': { en: 'Parent Tag', es: 'Etiqueta padre' },
  'fields.tag.is_active': { en: 'Active', es: 'Activo' },
  'fields.tag.sort': { en: 'Sort Order', es: 'Orden' },

  // Skill fields
  'fields.skill.name': { en: 'Skill Name', es: 'Nombre de habilidad' },
  'fields.skill.code': { en: 'Skill Code', es: 'C√≥digo de habilidad' },
  'fields.skill.facet_id': { en: 'Facet', es: 'Faceta' },
  'fields.skill.short_text': { en: 'Short Text', es: 'Texto corto' },
  'fields.skill.description': { en: 'Description', es: 'Descripci√≥n' },
  'fields.skill.language_code': { en: 'Language', es: 'Idioma' },
  'fields.skill.image': { en: 'Image', es: 'Imagen' },
  'fields.skill.is_active': { en: 'Active', es: 'Activo' },
  'fields.skill.sort': { en: 'Sort Order', es: 'Orden' },
  'fields.skill.status': { en: 'Status', es: 'Estado' },
  
  // UI fields
  'ui.fields.type': { en: 'Type', es: 'Tipo' },
  'ui.fields.id': { en: 'ID', es: 'ID' },
  'ui.fields.metadata': { en: 'Metadata', es: 'Metadatos' },
  'ui.fields.translation': { en: 'Translation', es: 'Traducci√≥n' },
  'ui.fields.revisions': { en: 'Revisions', es: 'Revisiones' },
  'ui.fields.createdAt': { en: 'Created at', es: 'Creado el' },
  'ui.fields.updatedAt': { en: 'Updated at', es: 'Actualizado el' },
  'ui.fields.owner': { en: 'Owner', es: 'Propietario' },
  'ui.fields.active': { en: 'Active', es: 'Activo' },
  'ui.fields.author': { en: 'Author', es: 'Autor' },
  'ui.fields.imageUrl': { en: 'Image URL', es: 'URL de imagen' },
  'ui.fields.original': { en: 'Original', es: 'Original' },
  'ui.fields.createdBy': { en: 'Created by', es: 'Creado por' },
  
  // UI states
  'ui.states.unknown': { en: 'Unknown', es: 'Desconocido' },
  'ui.states.enabled': { en: 'Enabled', es: 'Habilitado' },
  'ui.states.disabled': { en: 'Disabled', es: 'Deshabilitado' },
  'ui.states.new': { en: 'New', es: 'Nuevo' },
  
  // UI status badges
  'ui.status.draft': { en: 'Draft', es: 'Borrador' },
  'ui.status.review': { en: 'In Review', es: 'En revisi√≥n' },
  'ui.status.pendingReview': { en: 'Pending Review', es: 'Revisi√≥n pendiente' },
  'ui.status.translationReview': { en: 'Translation Review', es: 'Revisi√≥n de traducci√≥n' },
  'ui.status.approved': { en: 'Approved', es: 'Aprobado' },
  'ui.status.published': { en: 'Published', es: 'Publicado' },
  'ui.status.rejected': { en: 'Rejected', es: 'Rechazado' },
  'ui.status.archived': { en: 'Archived', es: 'Archivado' },
  'ui.status.unknown': { en: 'Unknown Status', es: 'Estado desconocido' },
  
  // UI release stages
  'ui.release.dev': { en: 'Development', es: 'Desarrollo' },
  'ui.release.alpha': { en: 'Alpha', es: 'Alfa' },
  'ui.release.beta': { en: 'Beta', es: 'Beta' },
  'ui.release.candidate': { en: 'Release Candidate', es: 'Candidato a lanzamiento' },
  'ui.release.release': { en: 'Release', es: 'Lanzamiento' },
  'ui.release.revision': { en: 'Revision', es: 'Revisi√≥n' },
  'ui.release.unknown': { en: 'Unknown Stage', es: 'Etapa desconocida' },
  
  // UI translation status
  'ui.translation.complete': { en: 'Complete', es: 'Completa' },
  'ui.translation.partialFallback': { en: 'Partial (Fallback)', es: 'Parcial (Alternativo)' },
  'ui.translation.missing': { en: 'Missing', es: 'Faltante' },
  'ui.translation.unknown': { en: 'Unknown Translation', es: 'Traducci√≥n desconocida' },
  
  // UI labels
  'ui.labels.unsavedChanges': { en: 'Unsaved changes', es: 'Cambios sin guardar' },
  'ui.labels.editMode': { en: 'Edit mode', es: 'Modo edici√≥n' },
  'ui.labels.readOnly': { en: 'Read only', es: 'Solo lectura' },
  'ui.common.untitled': { en: 'Untitled', es: 'Sin t√≠tulo' },
  'ui.common.entity': { en: 'Entity', es: 'Entidad' },
  
  // UI sections
  'ui.sections.translations': { en: 'Translations', es: 'Traducciones' },
  'ui.sections.metadata': { en: 'Metadata', es: 'Metadatos' },
  'ui.sections.summary': { en: 'Summary', es: 'Resumen' },
  'ui.sections.basic': { en: 'Basic', es: 'B√°sico' },
  
  // UI filters
  'ui.filters.any': { en: 'Any', es: 'Cualquiera' },
  'ui.filters.anyDate': { en: 'Any date', es: 'Cualquier fecha' },
  'ui.filters.autoApply': { en: 'Auto apply', es: 'Aplicar autom√°ticamente' },
  
  // UI table
  'ui.table.densityLabel': { en: 'Density', es: 'Densidad' },
  'ui.table.selectAll': { en: 'Select all', es: 'Seleccionar todo' },
  'ui.table.selectRow': { en: 'Select row', es: 'Seleccionar fila' },
  'ui.table.densityComfortable': { en: 'Comfortable', es: 'C√≥modo' },
  'ui.table.densityRegular': { en: 'Regular', es: 'Regular' },
  'ui.table.densityCompact': { en: 'Compact', es: 'Compacto' },
  
  // UI notifications
  'ui.notifications.saved': { en: 'Saved', es: 'Guardado' },
  'ui.notifications.errorGeneric': { en: 'An error occurred', es: 'Ocurri√≥ un error' },
  'ui.notifications.notFound': { en: 'Not found', es: 'No encontrado' },
  'ui.notifications.tryAgain': { en: 'Try again', es: 'Int√©ntalo de nuevo' },
  'ui.notifications.noLanguages': { en: 'No languages', es: 'Sin idiomas' },
  'ui.notifications.noLanguagesDescription': { en: 'No languages available', es: 'No hay idiomas disponibles' },
  
  // UI misc
  'ui.a11y.entityInspectorDescription': { en: 'Entity inspector drawer', es: 'Panel inspector de entidad' },
  'ui.placeholders.json': { en: 'JSON content', es: 'Contenido JSON' },
  'ui.misc.updatedAt': { en: 'Updated', es: 'Actualizado' },
  
  // System statuses
  'system.status.active': { en: 'Active', es: 'Activo' },
  'system.status.inactive': { en: 'Inactive', es: 'Inactivo' },
  'system.status.suspended': { en: 'Suspended', es: 'Suspendido' },
  'system.status.banned': { en: 'Banned', es: 'Baneado' },
  'system.status.pending': { en: 'Pending', es: 'Pendiente' },
  
  // Errors
  'errors.validation': { en: 'Validation error', es: 'Error de validaci√≥n' },
  'errors.forbidden': { en: 'Forbidden', es: 'Prohibido' },
  'errors.list_failed': { en: 'Failed to load list', es: 'Error al cargar lista' },
  'errors.action_failed': { en: 'Action failed', es: 'La acci√≥n fall√≥' },
  'errors.update_failed': { en: 'Update failed', es: 'Error al actualizar' },
  'errors.validation_failed': { en: 'Validation failed', es: 'Validaci√≥n fallida' },
  'errors.unsupportedEntityTags': { en: 'Unsupported entity tags', es: 'Tags de entidad no soportados' },
  'errors.unsupportedFeedback': { en: 'Unsupported feedback', es: 'Feedback no soportado' },
  
  // Common actions
  'edit': { en: 'Edit', es: 'Editar' },
  'create': { en: 'Create', es: 'Crear' },
  'saved': { en: 'Saved', es: 'Guardado' },
  'close': { en: 'Close', es: 'Cerrar' },
  'submit': { en: 'Submit', es: 'Enviar' },
  'cancel': { en: 'Cancel', es: 'Cancelar' },
  'confirm': { en: 'Confirm', es: 'Confirmar' },
  'remove': { en: 'Remove', es: 'Eliminar' },
  'reset': { en: 'Reset', es: 'Restablecer' },
  'reset-filters': { en: 'Reset filters', es: 'Restablecer filtros' },
  'remove-image': { en: 'Remove image', es: 'Eliminar imagen' },
  'active': { en: 'Active', es: 'Activo' },
  'inactive': { en: 'Inactive', es: 'Inactivo' },
  
  // Features - Admin
  'features.admin.entityViewer.title': { en: 'Entity Viewer', es: 'Visor de Entidades' },
  'features.admin.entityViewer.subtitle': { en: 'Inspect entity data and metadata', es: 'Inspecciona datos y metadatos de entidades' },
  'features.admin.entityViewer.empty': { en: 'No entity selected', es: 'No hay entidad seleccionada' },
  'features.admin.entityViewer.viewJson': { en: 'View JSON', es: 'Ver JSON' },
  'features.admin.feedback.notes.description': { en: 'Internal notes for this feedback', es: 'Notas internas para este feedback' },
  'features.admin.feedback.advancedFilters': { en: 'Advanced Filters', es: 'Filtros Avanzados' },
  'features.admin.dashboardTitle': { en: 'Admin Dashboard', es: 'Panel de Administraci√≥n' },
  'features.admin.dashboardSubtitle': { en: 'System overview and management', es: 'Vista general y gesti√≥n del sistema' },
  'features.admin.usersTitle': { en: 'Users Management', es: 'Gesti√≥n de Usuarios' },
  'features.admin.usersSubtitle': { en: 'Manage user accounts and permissions', es: 'Gestionar cuentas de usuario y permisos' },
  'features.admin.usersSummary': { en: 'User accounts and permissions', es: 'Cuentas de usuario y permisos' },
  'features.admin.usersHighlight1': { en: 'Manage roles and access', es: 'Gestionar roles y acceso' },
  'features.admin.usersHighlight2': { en: 'Monitor user activity', es: 'Monitorear actividad de usuarios' },
  'features.admin.usersCta': { en: 'Manage Users', es: 'Gestionar Usuarios' },
  'features.admin.versionsSummary': { en: 'Content versions and releases', es: 'Versiones de contenido y lanzamientos' },
  'features.admin.versionsHighlight1': { en: 'Track content changes', es: 'Rastrear cambios de contenido' },
  'features.admin.versionsHighlight2': { en: 'Manage releases', es: 'Gestionar lanzamientos' },
  'features.admin.versionsCta': { en: 'Manage Versions', es: 'Gestionar Versiones' },
  'features.admin.feedbackSummary': { en: 'User feedback and suggestions', es: 'Feedback y sugerencias de usuarios' },
  'features.admin.feedbackHighlight1': { en: 'Review user reports', es: 'Revisar reportes de usuarios' },
  'features.admin.feedbackHighlight2': { en: 'Track improvement requests', es: 'Rastrear solicitudes de mejora' },
  'features.admin.feedbackCta': { en: 'Manage Feedback', es: 'Gestionar Feedback' },
  'features.admin.databaseTitle': { en: 'Database Management', es: 'Gesti√≥n de Base de Datos' },
  'features.admin.databaseSummary': { en: 'Database operations and maintenance', es: 'Operaciones y mantenimiento de base de datos' },
  'features.admin.databaseHighlight1': { en: 'Backup and restore', es: 'Respaldo y restauraci√≥n' },
  'features.admin.databaseHighlight2': { en: 'Performance monitoring', es: 'Monitoreo de rendimiento' },
  'features.admin.databaseCta': { en: 'Manage Database', es: 'Gestionar Base de Datos' },
}

// Funci√≥n para generar traducciones autom√°ticamente
function generateTranslation(key, locale) {
  // Si tenemos una traducci√≥n predefinida, usarla
  if (translations[key] && translations[key][locale]) {
    return translations[key][locale]
  }
  
  // Patr√≥n especial para campos de entidad: fields.<entity>.<field>
  if (key.startsWith('fields.') && key.split('.').length === 3) {
    const [, entity, field] = key.split('.')
    const entityName = generateTranslation(`entities.${entity}`, locale) || entity
    const fieldName = generateTranslation(`fields.${field}`, locale) || generateTranslation(`ui.fields.${field}`, locale) || field
    
    // Limpiar si devolvi√≥ el fallback
    const cleanEntity = entityName.includes('TODO') ? entity.replace(/_/g, ' ') : entityName
    const cleanField = fieldName.includes('TODO') ? field.replace(/_/g, ' ') : fieldName
    
    // Capitalizar
    const capEntity = cleanEntity.charAt(0).toUpperCase() + cleanEntity.slice(1)
    const capField = cleanField.charAt(0).toUpperCase() + cleanField.slice(1)
    
    if (locale === 'es') {
      return `${capField} de ${capEntity.toLowerCase()}`
    } else {
      return `${capEntity} ${capField}`
    }
  }
  
  // Generar traducci√≥n basada en patrones
  const parts = key.split('.')
  const lastPart = parts[parts.length - 1]
  
  // Patrones comunes
  const patterns = {
    en: {
      title: 'Title',
      subtitle: 'Subtitle',
      description: 'Description',
      empty: 'Empty',
      placeholder: 'Placeholder',
      hint: 'Hint',
      label: 'Label',
      button: 'Button',
      link: 'Link',
      text: 'Text',
      content: 'Content',
      message: 'Message',
      error: 'Error',
      warning: 'Warning',
      info: 'Info',
      success: 'Success',
      loading: 'Loading',
      saving: 'Saving',
      deleting: 'Deleting',
      creating: 'Creating',
      updating: 'Updating',
      editing: 'Editing',
      viewing: 'Viewing',
      managing: 'Managing',
      configuring: 'Configuring',
      settings: 'Settings',
      options: 'Options',
      preferences: 'Preferences',
      filters: 'Filters',
      search: 'Search',
      results: 'Results',
      list: 'List',
      grid: 'Grid',
      table: 'Table',
      card: 'Card',
      modal: 'Modal',
      dialog: 'Dialog',
      drawer: 'Drawer',
      menu: 'Menu',
      navigation: 'Navigation',
      header: 'Header',
      footer: 'Footer',
      sidebar: 'Sidebar',
      main: 'Main',
      section: 'Section',
      group: 'Group',
      item: 'Item',
      element: 'Element',
      component: 'Component',
      page: 'Page',
      view: 'View',
      layout: 'Layout',
      template: 'Template',
      style: 'Style',
      theme: 'Theme',
      design: 'Design',
      interface: 'Interface',
      user: 'User',
      admin: 'Administrator',
      manager: 'Manager',
      editor: 'Editor',
      viewer: 'Viewer',
      guest: 'Guest',
      public: 'Public',
      private: 'Private',
      secure: 'Secure',
      safe: 'Safe',
      trusted: 'Trusted',
      verified: 'Verified',
      approved: 'Approved',
      rejected: 'Rejected',
      pending: 'Pending',
      completed: 'Completed',
      cancelled: 'Cancelled',
      aborted: 'Aborted',
      failed: 'Failed',
      debug: 'Debug',
      trace: 'Trace',
      log: 'Log',
      audit: 'Audit',
      history: 'History',
      timeline: 'Timeline',
      calendar: 'Calendar',
      date: 'Date',
      time: 'Time',
      datetime: 'Date & Time',
      period: 'Period',
      duration: 'Duration',
      interval: 'Interval',
      frequency: 'Frequency',
      rate: 'Rate',
      speed: 'Speed',
      size: 'Size',
      length: 'Length',
      width: 'Width',
      height: 'Height',
      weight: 'Weight',
      volume: 'Volume',
      area: 'Area',
      distance: 'Distance',
      position: 'Position',
      location: 'Location',
      address: 'Address',
      coordinates: 'Coordinates',
      map: 'Map',
      region: 'Region',
      zone: 'Zone',
      district: 'District',
      neighborhood: 'Neighborhood',
      city: 'City',
      state: 'State',
      country: 'Country',
      continent: 'Continent',
      world: 'World',
      universe: 'Universe',
      galaxy: 'Galaxy',
      star: 'Star',
      planet: 'Planet',
      moon: 'Moon',
      sun: 'Sun',
      earth: 'Earth',
      mars: 'Mars',
      venus: 'Venus',
      mercury: 'Mercury',
      jupiter: 'Jupiter',
      saturn: 'Saturn',
      uranus: 'Uranus',
      neptune: 'Neptune',
      pluto: 'Pluto'
    },
    es: {
      title: 'T√≠tulo',
      subtitle: 'Subt√≠tulo',
      description: 'Descripci√≥n',
      empty: 'Vac√≠o',
      placeholder: 'Marcador de posici√≥n',
      hint: 'Pista',
      label: 'Etiqueta',
      button: 'Bot√≥n',
      link: 'Enlace',
      text: 'Texto',
      content: 'Contenido',
      message: 'Mensaje',
      error: 'Error',
      warning: 'Advertencia',
      info: 'Informaci√≥n',
      success: '√âxito',
      loading: 'Cargando',
      saving: 'Guardando',
      deleting: 'Eliminando',
      creating: 'Creando',
      updating: 'Actualizando',
      editing: 'Editando',
      viewing: 'Viendo',
      managing: 'Gestionando',
      configuring: 'Configurando',
      settings: 'Configuraci√≥n',
      options: 'Opciones',
      preferences: 'Preferencias',
      filters: 'Filtros',
      search: 'Buscar',
      results: 'Resultados',
      list: 'Lista',
      grid: 'Cuadr√≠cula',
      table: 'Tabla',
      card: 'Tarjeta',
      modal: 'Modal',
      dialog: 'Di√°logo',
      drawer: 'Panel',
      menu: 'Men√∫',
      navigation: 'Navegaci√≥n',
      header: 'Encabezado',
      footer: 'Pie de p√°gina',
      sidebar: 'Barra lateral',
      main: 'Principal',
      section: 'Secci√≥n',
      group: 'Grupo',
      item: 'Elemento',
      element: 'Elemento',
      component: 'Componente',
      page: 'P√°gina',
      view: 'Vista',
      layout: 'Dise√±o',
      template: 'Plantilla',
      style: 'Estilo',
      theme: 'Tema',
      design: 'Dise√±o',
      interface: 'Interfaz',
      user: 'Usuario',
      admin: 'Administrador',
      manager: 'Gestor',
      editor: 'Editor',
      viewer: 'Visor',
      guest: 'Invitado',
      public: 'P√∫blico',
      private: 'Privado',
      secure: 'Seguro',
      safe: 'Seguro',
      trusted: 'Confiable',
      verified: 'Verificado',
      approved: 'Aprobado',
      rejected: 'Rechazado',
      pending: 'Pendiente',
      completed: 'Completado',
      cancelled: 'Cancelado',
      aborted: 'Abortado',
      failed: 'Fallido',
      debug: 'Depurar',
      trace: 'Traza',
      log: 'Registro',
      audit: 'Auditor√≠a',
      history: 'Historial',
      timeline: 'L√≠nea de tiempo',
      calendar: 'Calendario',
      date: 'Fecha',
      time: 'Hora',
      datetime: 'Fecha y Hora',
      period: 'Per√≠odo',
      duration: 'Duraci√≥n',
      interval: 'Intervalo',
      frequency: 'Frecuencia',
      rate: 'Tasa',
      speed: 'Velocidad',
      size: 'Tama√±o',
      length: 'Longitud',
      width: 'Ancho',
      height: 'Alto',
      weight: 'Peso',
      volume: 'Volumen',
      area: '√Årea',
      distance: 'Distancia',
      position: 'Posici√≥n',
      location: 'Ubicaci√≥n',
      address: 'Direcci√≥n',
      coordinates: 'Coordenadas',
      map: 'Mapa',
      region: 'Regi√≥n',
      zone: 'Zona',
      district: 'Distrito',
      neighborhood: 'Barrio',
      city: 'Ciudad',
      state: 'Estado',
      country: 'Pa√≠s',
      continent: 'Continente',
      world: 'Mundo',
      universe: 'Universo',
      galaxy: 'Galaxia',
      star: 'Estrella',
      planet: 'Planeta',
      moon: 'Luna',
      sun: 'Sol',
      earth: 'Tierra',
      mars: 'Marte',
      venus: 'Venus',
      mercury: 'Mercurio',
      jupiter: 'J√∫piter',
      saturn: 'Saturno',
      uranus: 'Urano',
      neptune: 'Neptuno',
      pluto: 'Plut√≥n'
    }
  }
  
  // Si el patr√≥n existe, usarlo
  if (patterns[locale] && patterns[locale][lastPart]) {
    return patterns[locale][lastPart]
  }
  
  // Convertir camelCase a Title Case
  const titleCase = lastPart
    .replace(/([A-Z])/g, ' $1')
    .replace(/^./, str => str.toUpperCase())
    .trim()
  
  if (locale === 'es') {
    // Traducci√≥n simple al espa√±ol
    const simpleTranslations = {
      'Title': 'T√≠tulo',
      'Description': 'Descripci√≥n',
      'Name': 'Nombre',
      'Email': 'Correo electr√≥nico',
      'Phone': 'Tel√©fono',
      'Address': 'Direcci√≥n',
      'City': 'Ciudad',
      'Country': 'Pa√≠s',
      'Status': 'Estado',
      'Type': 'Tipo',
      'Category': 'Categor√≠a',
      'Tag': 'Etiqueta',
      'Label': 'Etiqueta',
      'Value': 'Valor',
      'Count': 'Cantidad',
      'Total': 'Total',
      'Price': 'Precio',
      'Cost': 'Costo',
      'Date': 'Fecha',
      'Time': 'Hora',
      'Created': 'Creado',
      'Updated': 'Actualizado',
      'Deleted': 'Eliminado',
      'Active': 'Activo',
      'Inactive': 'Inactivo',
      'Enabled': 'Habilitado',
      'Disabled': 'Deshabilitado',
      'Public': 'P√∫blico',
      'Private': 'Privado',
      'Visible': 'Visible',
      'Hidden': 'Oculto',
      'Required': 'Requerido',
      'Optional': 'Opcional',
      'Search': 'Buscar',
      'Filter': 'Filtrar',
      'Sort': 'Ordenar',
      'Edit': 'Editar',
      'Save': 'Guardar',
      'Cancel': 'Cancelar',
      'Delete': 'Eliminar',
      'Create': 'Crear',
      'Update': 'Actualizar',
      'View': 'Ver',
      'Show': 'Mostrar',
      'Hide': 'Ocultar',
      'Open': 'Abrir',
      'Close': 'Cerrar',
      'Start': 'Iniciar',
      'Stop': 'Detener',
      'Pause': 'Pausar',
      'Resume': 'Reanudar',
      'Continue': 'Continuar',
      'Finish': 'Finalizar',
      'Complete': 'Completar',
      'Submit': 'Enviar',
      'Send': 'Enviar',
      'Receive': 'Recibir',
      'Download': 'Descargar',
      'Upload': 'Subir',
      'Import': 'Importar',
      'Export': 'Exportar',
      'Copy': 'Copiar',
      'Move': 'Mover',
      'Rename': 'Renombrar',
      'Duplicate': 'Duplicar',
      'Merge': 'Fusionar',
      'Split': 'Dividir',
      'Join': 'Unir',
      'Connect': 'Conectar',
      'Disconnect': 'Desconectar',
      'Link': 'Enlazar',
      'Unlink': 'Desenlazar',
      'Attach': 'Adjuntar',
      'Detach': 'Desadjuntar',
      'Add': 'Agregar',
      'Remove': 'Quitar',
      'Insert': 'Insertar',
      'Extract': 'Extraer',
      'Select': 'Seleccionar',
      'Deselect': 'Deseleccionar',
      'Choose': 'Elegir',
      'Pick': 'Escoger',
      'Accept': 'Aceptar',
      'Reject': 'Rechazar',
      'Approve': 'Aprobar',
      'Deny': 'Denegar',
      'Allow': 'Permitir',
      'Block': 'Bloquear',
      'Ban': 'Banear',
      'Unban': 'Desbanear',
      'Suspend': 'Suspender',
      'Reactivate': 'Reactivar',
      'Enable': 'Habilitar',
      'Disable': 'Deshabilitar',
      'Activate': 'Activar',
      'Deactivate': 'Desactivar',
      'Install': 'Instalar',
      'Uninstall': 'Desinstalar',
      'Setup': 'Configurar',
      'Configure': 'Configurar',
      'Customize': 'Personalizar',
      'Reset': 'Restablecer',
      'Restore': 'Restaurar',
      'Backup': 'Respaldo',
      'Archive': 'Archivar',
      'Unarchive': 'Desarchivar',
      'Lock': 'Bloquear',
      'Unlock': 'Desbloquear',
      'Secure': 'Asegurar',
      'Protect': 'Proteger',
      'Share': 'Compartir',
      'Publish': 'Publicar',
      'Unpublish': 'Despublicar',
      'Release': 'Liberar',
      'Deploy': 'Desplegar',
      'Test': 'Probar',
      'Debug': 'Depurar',
      'Monitor': 'Monitorear',
      'Track': 'Rastrear',
      'Log': 'Registrar',
      'Audit': 'Auditar',
      'Review': 'Revisar',
      'Check': 'Verificar',
      'Validate': 'Validar',
      'Verify': 'Verificar',
      'Confirm': 'Confirmar',
      'Authorize': 'Autorizar',
      'Authenticate': 'Autenticar',
      'Login': 'Iniciar sesi√≥n',
      'Logout': 'Cerrar sesi√≥n',
      'Register': 'Registrar',
      'Signup': 'Registrarse',
      'Signin': 'Iniciar sesi√≥n',
      'Signout': 'Cerrar sesi√≥n',
      'Profile': 'Perfil',
      'Account': 'Cuenta',
      'Settings': 'Configuraci√≥n',
      'Preferences': 'Preferencias',
      'Options': 'Opciones',
      'Tools': 'Herramientas',
      'Help': 'Ayuda',
      'Support': 'Soporte',
      'About': 'Acerca de',
      'Info': 'Informaci√≥n',
      'Details': 'Detalles',
      'More': 'M√°s',
      'Less': 'Menos',
      'All': 'Todos',
      'None': 'Ninguno',
      'Any': 'Cualquiera',
      'Some': 'Algunos',
      'Many': 'Muchos',
      'Few': 'Pocos',
      'First': 'Primero',
      'Last': '√öltimo',
      'Next': 'Siguiente',
      'Previous': 'Anterior',
      'Current': 'Actual',
      'New': 'Nuevo',
      'Old': 'Viejo',
      'Recent': 'Reciente',
      'Latest': '√öltimo',
      'Popular': 'Popular',
      'Featured': 'Destacado',
      'Recommended': 'Recomendado',
      'Suggested': 'Sugerido',
      'Related': 'Relacionado',
      'Similar': 'Similar',
      'Matching': 'Coincidente',
      'Available': 'Disponible',
      'Unavailable': 'No disponible',
      'Online': 'En l√≠nea',
      'Offline': 'Sin conexi√≥n',
      'Connected': 'Conectado',
      'Disconnected': 'Desconectado',
      'Ready': 'Listo',
      'Busy': 'Ocupado',
      'Loading': 'Cargando',
      'Processing': 'Procesando',
      'Incomplete': 'Incompleto',
      'Failure': 'Fallo',
      'Trace': 'Traza',
      'Verbose': 'Detallado',
      'Quiet': 'Silencioso',
      'Normal': 'Normal',
      'Default': 'Predeterminado',
      'Custom': 'Personalizado',
      'Standard': 'Est√°ndar',
      'Advanced': 'Avanzado',
      'Basic': 'B√°sico',
      'Simple': 'Simple',
      'Complex': 'Complejo',
      'Easy': 'F√°cil',
      'Difficult': 'Dif√≠cil',
      'Hard': 'Dif√≠cil',
      'Soft': 'Suave',
      'Rough': '√Åspero',
      'Smooth': 'Suave',
      'Sharp': 'Afilado',
      'Blunt': 'Rom',
      'Hot': 'Caliente',
      'Cold': 'Fr√≠o',
      'Warm': 'Tibio',
      'Cool': 'Fresco',
      'Dry': 'Seco',
      'Wet': 'Mojado',
      'Light': 'Ligero',
      'Heavy': 'Pesado',
      'Big': 'Grande',
      'Small': 'Peque√±o',
      'Large': 'Grande',
      'Tiny': 'Diminuto',
      'Huge': 'Enorme',
      'Giant': 'Gigante',
      'Mini': 'Mini',
      'Micro': 'Micro',
      'Macro': 'Macro',
      'Nano': 'Nano',
      'Mega': 'Mega',
      'Giga': 'Giga',
      'Tera': 'Tera',
      'Kilo': 'Kilo',
      'Milli': 'Mili',
      'Centi': 'Centi',
      'Deci': 'Deci',
      'Deca': 'Deca',
      'Hecto': 'Hecto'
    }
    
    return simpleTranslations[titleCase] || titleCase
  }
  
  // Para ingl√©s, devolver el title case
  return titleCase
}

// Funci√≥n para procesar un archivo de idioma
function processFile(filename, locale) {
  const filePath = path.join(LOCALES, filename)
  const content = fs.readFileSync(filePath, 'utf8')
  let modified = false
  
  // Reemplazar todas las claves TODO
  const newContent = content.replace(/"([^"]+)":\s*"TODO: Translate [^"]+"/g, (match, key) => {
    const translation = generateTranslation(key, locale)
    modified = true
    return `"${key}": "${translation}"`
  })
  
  if (modified) {
    fs.writeFileSync(filePath, newContent, 'utf8')
    return true
  }
  
  return false
}

// Main
console.log('üîÑ Traduciendo claves faltantes...')

const enModified = processFile('en.json', 'en')
const esModified = processFile('es.json', 'es')

if (enModified) {
  console.log('‚úÖ en.json actualizado')
}

if (esModified) {
  console.log('‚úÖ es.json actualizado')
}

if (!enModified && !esModified) {
  console.log('‚ÑπÔ∏è  No hab√≠a claves por traducir')
} else {
  console.log('\n‚ú® Traducciones completadas!')
  console.log('\nüìù Nota: Algunas traducciones pueden necesitar revisi√≥n manual.')
  console.log('   Ejecuta "grep -c \'TODO: Translate\' i18n/locales/*.json" para verificar.')
}
